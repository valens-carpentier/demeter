(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{14923:()=>{},47790:()=>{},73776:()=>{},15340:()=>{},79838:()=>{},87648:()=>{},71408:(e,a,t)=>{Promise.resolve().then(t.bind(t,76695))},15108:(e,a,t)=>{"use strict";t.d(a,{r:()=>s,y:()=>r});var n=t(12115);let s=n.createContext(void 0),r=n.createContext(void 0)},76695:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>C});var n=t(95155),s=t(12115),r=t(55768),o=t(70703),i=t(63592),l=t(4918),c=t(41983),d=t(36017),u=t(2091),p=t(60391),m=t(2227),h=t(42232),f=t(41485),_=t(30667),x=t(51076),g=t(85067),y=t(76046),b=t(86982),S=t.n(b);function A(e){let{children:a}=e,t=(0,y.useRouter)(),r=(0,y.usePathname)(),o=(0,s.useMemo)(()=>[{text:"Dashboard",icon:(0,n.jsx)(m.A,{}),path:"/dashboard"},{text:"Marketplace",icon:(0,n.jsx)(h.A,{}),path:"/dashboard/marketplace"},{text:"Portfolio",icon:(0,n.jsx)(f.A,{}),path:"/dashboard/portfolio"},{text:"Transactions",icon:(0,n.jsx)(_.A,{}),path:"/dashboard/transactions"},{text:"Profile",icon:(0,n.jsx)(x.A,{}),path:"/dashboard/profile",disabled:!0}],[]);return(0,n.jsxs)(i.A,{className:S().sidebarWrapper,children:[(0,n.jsx)(i.A,{className:S().childrenContainer,children:a}),(0,n.jsxs)(i.A,{className:S().menuContainer,children:[(0,n.jsx)(l.A,{children:o.map(e=>(0,n.jsx)(c.Ay,{disablePadding:!0,children:(0,n.jsxs)(d.A,{"aria-label":e.text,role:"menuitem",tabIndex:0,className:"".concat(S().menuItem," ").concat(r===e.path?S().menuItemActive:""),onClick:()=>t.push(e.path),disabled:e.disabled,children:[(0,n.jsx)(u.A,{className:S().menuItemIcon,children:e.icon}),(0,n.jsx)(p.A,{primary:e.text})]})},e.text))}),(0,n.jsx)(l.A,{className:S().logoutContainer,children:(0,n.jsx)(c.Ay,{disablePadding:!0,children:(0,n.jsxs)(d.A,{className:S().menuItem,onClick:()=>{t.push("/")},children:[(0,n.jsx)(u.A,{className:S().menuItemIcon,children:(0,n.jsx)(g.A,{})}),(0,n.jsx)(p.A,{primary:"Logout"})]})})})]})]})}t(6098);var j=t(15108);function C(e){let{children:a}=e,t=(0,y.useRouter)(),[i,l]=(0,s.useState)(),[c,d]=(0,s.useState)(void 0);return((0,s.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("passkeyId");if(!e){t.push("/");return}let a=(0,r.Ud)().find(a=>a.rawId===e);if(!a){t.push("/");return}l(a)},[t]),i)?(0,n.jsx)(j.y.Provider,{value:i,children:(0,n.jsx)(j.r.Provider,{value:c,children:(0,n.jsxs)("div",{className:S().layoutWrapper,children:[(0,n.jsx)("div",{className:S().sidebarContainer,children:(0,n.jsx)(A,{children:(0,n.jsx)(o.A,{passkey:i,onSafeAddress:e=>{d(e)}})})}),(0,n.jsx)("div",{className:S().mainContent,children:a})]})})}):null}},70703:(e,a,t)=>{"use strict";t.d(a,{A:()=>y});var n=t(95155),s=t(78562),r=t(55467),o=t(10810),i=t(78984),l=t(96854),c=t(66656),d=t(22282),u=t(28121),p=t(12115),m=t(65494);let h=async e=>{let{signer:a,safeAddress:t}=e;try{console.log("[Deployment] Initializing Safe with paymaster...");let e=await u.Safe4337Pack.init({provider:m.E0,signer:a,bundlerUrl:m.L8,paymasterOptions:{isSponsored:!0,paymasterUrl:m.zx},options:{owners:[],threshold:1}}),n=await e.protocolKit.getAddress();console.log("[Deployment] Signer address:",n),console.log("[Deployment] Reinitializing with owner...");let s=await u.Safe4337Pack.init({provider:m.E0,signer:a,bundlerUrl:m.L8,paymasterOptions:{isSponsored:!0,paymasterUrl:m.zx},options:{owners:[n],threshold:1}}),r=await s.protocolKit.getAddress();if(console.log("[Deployment] Calculated address:",r),r!==t)throw console.error("[Deployment] Address mismatch:",{calculatedAddress:r,safeAddress:t}),Error("Safe address mismatch");console.log("[Deployment] Creating deployment transaction...");let o=await s.createTransaction({transactions:[{to:t,data:"0x",value:"0"}]});console.log("[Deployment] Signing operation...");let i=await s.signSafeOperation(o);console.log("[Deployment] Executing transaction...");let l=await s.executeTransaction({executable:i});return console.log("[Deployment] Transaction executed, userOpHash:",l),l}catch(e){throw console.error("[Deployment] Failed:",e),e}};var f=t(60932),_=t.n(f);async function x(e){if(!e)throw Error("Safe address is required");try{let a="".concat("https://safe-transaction-base-sepolia.safe.global/api","/v1/safes/").concat(e,"/balances/");console.log("Fetching USDC balance from:",a);let t=await fetch(a);if(!t.ok)throw console.error("Safe API error:",{status:t.status,statusText:t.statusText,url:a}),Error("Safe API error: ".concat(t.status," ").concat(t.statusText));let n=await t.json();console.log("Safe API balances response:",n);let s=n.find(e=>{var a;return(null===(a=e.tokenAddress)||void 0===a?void 0:a.toLowerCase())===m._g.toLowerCase()});if(console.log("USDC balance found:",s),!s)return"0.00";let r=parseFloat(s.balance)/Math.pow(10,s.decimals||6);return console.log("Parsed USDC balance:",r),r.toFixed(2)}catch(e){throw console.error("Failed to fetch USDC balance:",e),e}}var g=t(7515);let y=function(e){let{passkey:a,onSafeAddress:t}=e,[f,y]=(0,p.useState)(!0),[b,S]=(0,p.useState)(),[A,j]=(0,p.useState)(!1),[C,w]=(0,p.useState)(!1),[v,k]=(0,p.useState)(!1),[D,I]=(0,p.useState)(),N=(0,p.useCallback)(async()=>{y(!0);try{let e=await u.Safe4337Pack.init({provider:m.E0,signer:a,bundlerUrl:m.L8,paymasterOptions:{isSponsored:!0,paymasterUrl:m.zx},options:{owners:[],threshold:1}}),n=await e.protocolKit.getAddress(),s=await u.Safe4337Pack.init({provider:m.E0,signer:a,bundlerUrl:m.L8,paymasterOptions:{isSponsored:!0,paymasterUrl:m.zx},options:{owners:[n],threshold:1}}),r=await s.protocolKit.getAddress(),o=await s.protocolKit.isSafeDeployed();S(r),t(r),j(o),y(!1)}catch(e){console.error("Failed to initialize Safe:",e),y(!1)}},[a,t]);(0,p.useEffect)(()=>{N()},[N]);let P=async()=>{if(b)try{w(!0),await h({signer:a,safeAddress:b}),await N()}catch(e){console.error("Deployment failed:",e)}finally{w(!1)}},U="https://app.safe.global/home?safe=basesep:".concat(b);return(0,p.useEffect)(()=>{let e=async()=>{if(b)try{k(!0);let e=await x(b);console.log("Fetched USDC balance:",e),I(e)}catch(e){console.error("Failed to fetch balances:",e),I("0.00")}finally{k(!1)}},a=setTimeout(()=>{e()},1e3);return()=>clearTimeout(a)},[b]),(0,n.jsx)(s.A,{className:_().container,children:(0,n.jsxs)(r.A,{className:_().stack,children:[(0,n.jsxs)(r.A,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center",children:[(0,n.jsx)(o.A,{className:_().balanceTitle,children:"Balance"}),(0,n.jsx)(i.A,{title:(0,n.jsxs)("span",{children:["Your USDC balance available to buy farm tokens. ",(0,n.jsx)("br",{}),"Get free USDC from the ",(0,n.jsx)("a",{href:"https://faucet.circle.com/",target:"_blank",rel:"noopener noreferrer",style:{color:"primary.main",textDecoration:"underline"},children:"Circle Faucet"}),"."]}),children:(0,n.jsx)(g.A,{sx:{fontSize:16,color:"#5C745D"}})})]}),f||v?(0,n.jsx)(l.A,{size:12,className:_().loading}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.A,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center",children:(0,n.jsxs)(o.A,{className:_().balanceValue,children:["$",D||"0.00"]})}),(0,n.jsx)(o.A,{textAlign:"center",fontSize:"0.875rem",children:(0,n.jsx)(c.A,{href:U,target:"_blank",underline:"hover",color:"text",children:(0,n.jsx)(i.A,{title:b,children:(0,n.jsx)("span",{className:_().addressContainer,children:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,t=e.slice(0,a),n=e.slice(e.length-a);return"".concat(t,"...").concat(n)}(b||"")})})})}),!A&&(0,n.jsx)(r.A,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center",children:(0,n.jsx)(d.A,{variant:"contained",onClick:P,disabled:C,className:_().deployButton,children:C?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.A,{size:20,color:"inherit"}),"Activating..."]}):"Activate your account"})})]})]})})}},65494:(e,a,t)=>{"use strict";t.d(a,{E0:()=>r,KT:()=>n,L8:()=>o,PU:()=>i,_g:()=>l,zx:()=>s});let n="safe_passkey_list",s="https://api.pimlico.io/v2/base-sepolia/rpc?apikey=pim_TeYKjc6gDoVgnHL2bCF3WZ",r="https://sepolia.base.org",o="https://api.pimlico.io/v2/".concat("84532","/rpc?apikey=").concat("pim_TeYKjc6gDoVgnHL2bCF3WZ"),i="0x489C7835862c55B4A00efE4C68B695d66009D6f7",l="0x036CbD53842c5426634e7929541eC2318f3dCF7e"},55768:(e,a,t)=>{"use strict";t.d(a,{Ud:()=>i,dQ:()=>o,v0:()=>r});var n=t(48838),s=t(65494);async function r(){let e="Safe Owner",a=await navigator.credentials.create({publicKey:{pubKeyCredParams:[{alg:-7,type:"public-key"}],challenge:crypto.getRandomValues(new Uint8Array(32)),rp:{name:"Safe SmartAccount"},user:{displayName:e,id:crypto.getRandomValues(new Uint8Array(32)),name:e},timeout:6e4,attestation:"none"}});if(!a)throw Error("Passkey creation failed: No credential was returned.");let t=await (0,n.extractPasskeyData)(a);return console.log("Created Passkey:",t),t}function o(e){let a=i();a.push(e),localStorage.setItem(s.KT,JSON.stringify(a))}function i(){let e=localStorage.getItem(s.KT);return e?JSON.parse(e):[]}},6098:()=>{},60932:e=>{e.exports={container:"safeaccountdetails_container__Kffb_",stack:"safeaccountdetails_stack__Z5azX",balanceTitle:"safeaccountdetails_balanceTitle__7tisd",balanceValue:"safeaccountdetails_balanceValue__Cm_ja",loading:"safeaccountdetails_loading__Fulgx",addressStack:"safeaccountdetails_addressStack__NfaKd",addressContainer:"safeaccountdetails_addressContainer__k0Y8a",pendingLabel:"safeaccountdetails_pendingLabel__IgcYS",pendingLabelText:"safeaccountdetails_pendingLabelText__9A8lZ",deployButton:"safeaccountdetails_deployButton__PaD6f",infoIcon:"safeaccountdetails_infoIcon___AL8y",addressLink:"safeaccountdetails_addressLink__yha_v",buttonStack:"safeaccountdetails_buttonStack__TnwJx",faucetMessage:"safeaccountdetails_faucetMessage__D4V5f"}},86982:e=>{e.exports={sidebarContainer:"SideBar_sidebarContainer__mP2u_",mainContent:"SideBar_mainContent__TXgDz",layoutWrapper:"SideBar_layoutWrapper__qnpzx",menuItem:"SideBar_menuItem__ScBQ5",menuItemActive:"SideBar_menuItemActive__VfDWp",menuItemIcon:"SideBar_menuItemIcon__D5Xtn",sidebarWrapper:"SideBar_sidebarWrapper__LLUg3",menuContainer:"SideBar_menuContainer__lZE_g",logoutContainer:"SideBar_logoutContainer__AAEnY",mobileMenuButton:"SideBar_mobileMenuButton__7hJ8f"}}},e=>{var a=a=>e(e.s=a);e.O(0,[643,323,49,770,12,320,581,467,342,702,441,517,358],()=>a(71408)),_N_E=e.O()}]);