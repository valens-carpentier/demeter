(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{14923:()=>{},47790:()=>{},73776:()=>{},15340:()=>{},79838:()=>{},87648:()=>{},87597:(e,n,t)=>{"use strict";t.d(n,{A:()=>m});var a=t(95155),i=t(63592),s=t(10810),r=t(22282),u=t(96854),o=t(55563),p=t(59811),l=t(67396),d=t(90394),y=t.n(d);function m(e){let{open:n,onClose:t,selectedFarm:d,buyAmount:m,onBuyAmountChange:c,onBuyConfirm:b,isBuying:T,transactionHash:f}=e;return(0,a.jsx)(o.A,{open:n,onClose:T||f?void 0:t,"aria-labelledby":"buy-token-modal",children:(0,a.jsx)(i.A,{className:y().buyModal,children:f?(0,a.jsxs)(i.A,{className:y().transactionSuccessContainer,children:[(0,a.jsx)(p.A,{className:y().successIcon}),(0,a.jsx)(s.A,{variant:"h6",sx:{textAlign:"center"},children:"Transaction Successful!"}),(0,a.jsx)(s.A,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:"Your purchase has been confirmed. You can view the transaction details below:"}),(0,a.jsx)(l.default,{href:"https://jiffyscan.xyz/userOpHash/".concat(f,"?network=base-sepolia"),target:"_blank",rel:"noopener noreferrer",className:y().transactionLink,children:f}),(0,a.jsx)(r.A,{variant:"contained",onClick:t,className:y().buyButton,children:"Close"})]}):T?(0,a.jsxs)(i.A,{className:y().processingContainer,children:[(0,a.jsx)(u.A,{size:48,className:y().processingSpinner}),(0,a.jsx)(s.A,{variant:"h6",children:"Processing Transaction"}),(0,a.jsx)(s.A,{variant:"body2",color:"text.secondary",children:"Please wait while we process your purchase..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.A,{className:y().buyModalTitle,children:"Your order"}),(0,a.jsxs)(i.A,{className:y().buyModalContent,children:[(0,a.jsxs)(i.A,{className:y().buyModalRow,children:[(0,a.jsx)(s.A,{className:y().buyModalLabel,children:"Farm Name:"}),(0,a.jsx)(s.A,{className:y().buyModalValue,children:null==d?void 0:d.name})]}),(0,a.jsxs)(i.A,{className:y().buyModalRow,children:[(0,a.jsx)(s.A,{className:y().buyModalLabel,children:"Number of Tokens:"}),(0,a.jsxs)(i.A,{className:y().buyModalCounter,children:[(0,a.jsx)(r.A,{size:"small",className:y().counterButton,onClick:()=>c(String(Math.max(0,Number(m||0)-1))),children:"-"}),(0,a.jsx)(s.A,{className:y().buyModalValue,children:m||"0"}),(0,a.jsx)(r.A,{size:"small",className:y().counterButton,onClick:()=>c(String(Number(m||0)+1)),children:"+"})]})]}),(0,a.jsxs)(i.A,{className:y().buyModalRow,children:[(0,a.jsx)(s.A,{className:y().buyModalLabel,children:"Total Price:"}),(0,a.jsxs)(s.A,{className:y().buyModalValue,children:["$",d&&m?(d.pricePerToken*Number(m)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"0.00"]})]})]}),(0,a.jsx)(i.A,{sx:{display:"flex",gap:2,mt:2},children:(0,a.jsx)(r.A,{fullWidth:!0,variant:"contained",className:y().buyButton,onClick:b,disabled:T||!m,children:"Pay with USDC"})})]})})})}},88968:(e,n,t)=>{"use strict";t.d(n,{Q:()=>p,u:()=>l});var a=t(53647),i=t(98982),s=t(28121);let r=JSON.parse('{"HV":[{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"_totalSupply","type":"uint256"},{"internalType":"uint256","name":"_farmId","type":"uint256"},{"internalType":"address","name":"_farmFactory","type":"address"},{"internalType":"uint256","name":"_pricePerToken","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientAllowance","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientBalance","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC20InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC20InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC20InvalidSender","type":"error"},{"inputs":[{"internalType":"address","name":"spender","type":"address"}],"name":"ERC20InvalidSpender","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"FundsWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"oldPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newPrice","type":"uint256"}],"name":"PriceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"buyer","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"costInWei","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"costInUsd","type":"uint256"}],"name":"TokensPurchased","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"buyer","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usdcAmount","type":"uint256"}],"name":"TokensPurchasedWithUSDC","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"seller","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"costInWei","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"costInUsd","type":"uint256"}],"name":"TokensSold","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"ETH_USD_PRICE_FEED","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PRICE_SAFETY_MARGIN","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PRICE_VALIDITY_DURATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDC_ADDRESS","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"buyTokens","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"buyTokensWithUSDC","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"usdCents","type":"uint256"}],"name":"calculateETHAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"farmFactory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"farmId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLatestETHPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pricePerToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"sellTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"sellTokensWithUSDC","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newPrice","type":"uint256"}],"name":"updatePrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawFunds","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawUSDC","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');var u=t(65494);let o=["function balanceOf(address owner) view returns (uint256)","function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 amount) returns (bool)","function transfer(address to, uint256 amount) returns (bool)","function transferFrom(address from, address to, uint256 amount) returns (bool)"];async function p(e,n,t,p){try{let n=await s.Safe4337Pack.init({provider:u.E0,signer:p,bundlerUrl:u.L8,paymasterOptions:{isSponsored:!0,paymasterUrl:u.zx},options:{owners:[],threshold:1}}),l=await n.protocolKit.getAddress(),d=await s.Safe4337Pack.init({provider:u.E0,signer:p,bundlerUrl:u.L8,paymasterOptions:{isSponsored:!0,paymasterUrl:u.zx},options:{owners:[l],threshold:1}}),y=new a.FR(u.E0),m=new i.NZ(e,r.HV,y),c=new i.NZ(u._g,o,y),b=await m.pricePerToken()*BigInt(t)*BigInt(1e4),T=await d.createTransaction({transactions:[{to:u._g,data:c.interface.encodeFunctionData("approve",[e,b]),value:"0"},{to:e,data:m.interface.encodeFunctionData("buyTokensWithUSDC",[t]),value:"0"}]}),f=await d.signSafeOperation(T),w=await d.executeTransaction({executable:f}),M=null;for(;!M;)await new Promise(e=>setTimeout(e,2e3)),M=await d.getUserOperationReceipt(w);return w}catch(e){throw e}}async function l(e,n,t,o){try{let n=await s.Safe4337Pack.init({provider:u.E0,signer:o,bundlerUrl:u.L8,paymasterOptions:{isSponsored:!0,paymasterUrl:u.zx},options:{owners:[],threshold:1}}),p=await n.protocolKit.getAddress(),l=await s.Safe4337Pack.init({provider:u.E0,signer:o,bundlerUrl:u.L8,paymasterOptions:{isSponsored:!0,paymasterUrl:u.zx},options:{owners:[p],threshold:1}}),d=new a.FR(u.E0),y=new i.NZ(e,r.HV,d),m=await l.createTransaction({transactions:[{to:e,data:y.interface.encodeFunctionData("sellTokensWithUSDC",[t]),value:"0"}]}),c=await l.signSafeOperation(m),b=await l.executeTransaction({executable:c}),T=null;for(;!T;)await new Promise(e=>setTimeout(e,2e3)),T=await l.getUserOperationReceipt(b);return b}catch(e){throw e}}},90394:e=>{e.exports={buyModal:"BuyFarmModal_buyModal__WreG8",buyModalTitle:"BuyFarmModal_buyModalTitle__3ctb9",buyModalContent:"BuyFarmModal_buyModalContent___eDLK",buyModalRow:"BuyFarmModal_buyModalRow__V8Y7V",buyModalLabel:"BuyFarmModal_buyModalLabel___xFkd",buyModalValue:"BuyFarmModal_buyModalValue__rMuOT",buyModalCounter:"BuyFarmModal_buyModalCounter__706JY",counterButton:"BuyFarmModal_counterButton__0XkVG",buyButton:"BuyFarmModal_buyButton__QIUsV",buyModalFarmName:"BuyFarmModal_buyModalFarmName___6bvS",buyModalAmountInput:"BuyFarmModal_buyModalAmountInput__R_sPL","MuiOutlinedInput-root":"BuyFarmModal_MuiOutlinedInput-root__RFyv1","MuiInputLabel-root":"BuyFarmModal_MuiInputLabel-root__vuCtC",transactionSuccessContainer:"BuyFarmModal_transactionSuccessContainer__E7N_O",successIcon:"BuyFarmModal_successIcon__Rif2b",transactionLink:"BuyFarmModal_transactionLink__xXOtM",processingContainer:"BuyFarmModal_processingContainer__ZCQ_V",processingSpinner:"BuyFarmModal_processingSpinner__7ZTnh"}}}]);